{"version":3,"file":"js/login.e512b14e.js","mappings":"kLAAO,MAAMA,EAAmB,CAACC,EAAMC,EAAOC,KAE5C,IAAIC,EAAU,+CACVA,EAAQC,KAAKH,GAEfC,IAEAA,EAAG,IAAIG,MAAM,WACf,E,iSCsCF,MAAMC,GAAYC,EAAAA,EAAAA,KAGZC,GAAYC,EAAAA,EAAAA,KAAI,GAChBC,GAAYD,EAAAA,EAAAA,IAAI,CACpBE,SAAU,MACVC,SAAU,cAENC,GAAeJ,EAAAA,EAAAA,IAAI,MACnBK,GAAQL,EAAAA,EAAAA,IAAI,CAChBE,SAAU,CAAC,CAAEI,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAC1DL,SAAU,CACR,CAAEG,UAAU,EAAMC,QAAS,SAAUC,QAAS,QAC9C,CAEEC,UAAWnB,EACXkB,QAAS,WAKTE,GAAUC,EAAAA,EAAAA,KAAS,IAAOZ,EAAUP,MAAQ,WAAa,QACzDoB,GAAYD,EAAAA,EAAAA,KAAS,IAAOZ,EAAUP,MAAQ,OAAS,aAEvDqB,EAAgB,KACpBd,EAAUP,OAASO,EAAUP,KAAK,EAG9BsB,EAAe,KAEnBV,EAAaZ,MAAMuB,UAAUC,IACvBA,EAEFnB,EAAUoB,QAAQhB,EAAUT,QAE5B0B,EAAAA,EAAAA,IAAU,CACRX,QAAS,QACTY,KAAM,UACNC,UAAU,GAEd,GACA,E,wkCCjFJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue-cms/./src/views/Login/validatePassword.js","webpack://vue-cms/./src/views/Login/Login.vue","webpack://vue-cms/./src/views/Login/Login.vue?682b"],"sourcesContent":["export const validatePassword = (rule, value, cb) => {\r\n  // value 是 password的值  \r\n  let regpass = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/\r\n  if (regpass.test(value)) {\r\n    // 校验成功\r\n    cb()\r\n  } else {\r\n    cb(new Error('密码格式不正确'))\r\n  }\r\n}","<template>\r\n  <div class=\"login-container\">\r\n    <el-form\r\n      class=\"login-form\"\r\n      :model=\"loginForm\"\r\n      :rules=\"rules\"\r\n      ref=\"loginFormRef\"\r\n    >\r\n      <div class=\"title-container\">\r\n        <h3 class=\"title\">用户登录</h3>\r\n      </div>\r\n      <el-form-item prop=\"username\">\r\n        <span class=\"svg-container\">\r\n          <svg-icon icon=\"user\"></svg-icon>\r\n        </span>\r\n        <el-input\r\n          placeholder=\"username\"\r\n          name=\"username\"\r\n          v-model=\"loginForm.username\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item prop=\"password\">\r\n        <span class=\"svg-container\">\r\n          <svg-icon icon=\"password\"></svg-icon>\r\n        </span>\r\n        <el-input\r\n          placeholder=\"password\"\r\n          name=\"password\"\r\n          v-model=\"loginForm.password\"\r\n          :type=\"typeInput\"\r\n        />\r\n        <span class=\"show-pwd\" @click=\"changeShowEye\">\r\n          <svg-icon :icon=\"eyeIcon\"></svg-icon>\r\n        </span>\r\n      </el-form-item>\r\n      <el-button type=\"primary\" style=\"width: 100%\" @click=\"handleSubmit\"\r\n        >登录</el-button\r\n      >\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { computed, ref } from \"vue\";\r\nimport { validatePassword } from \"./validatePassword\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { useUserStore } from \"@/store/user\";\r\nconst userStore = useUserStore();\r\n\r\n// 控制密码框显示状态\r\nconst isShowEye = ref(false);\r\nconst loginForm = ref({\r\n  username: \"郑依韩\",\r\n  password: \"zyh123456\",\r\n});\r\nconst loginFormRef = ref(null);\r\nconst rules = ref({\r\n  username: [{ required: true, message: \"用户名是必填项\", trigger: \"blur\" }],\r\n  password: [\r\n    { required: true, message: \"密码是必填项\", trigger: \"blur\" },\r\n    {\r\n      // 自定义校验规则\r\n      validator: validatePassword,\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n});\r\n\r\nconst eyeIcon = computed(() => (isShowEye.value ? \"eye-open\" : \"eye\"));\r\nconst typeInput = computed(() => (isShowEye.value ? \"text\" : \"password\"));\r\n\r\nconst changeShowEye = () => {\r\n  isShowEye.value = !isShowEye.value;\r\n};\r\n\r\nconst handleSubmit = () => {\r\n  // 确保校验都成了 才能往下走\r\n  loginFormRef.value.validate((vaild) => {\r\n    if (vaild) {\r\n      // 校验完整\r\n      userStore.loginFn(loginForm.value);\r\n    } else {\r\n      ElMessage({\r\n        message: \"填写不规范\",\r\n        type: \"warning\",\r\n        grouping: true,\r\n      });\r\n    }\r\n  });\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-container {\r\n  min-height: 100%;\r\n  width: 100%;\r\n  background-color: $menuBg;\r\n  overflow: hidden;\r\n\r\n  .login-form {\r\n    position: relative;\r\n    width: 520px;\r\n    max-width: 100%;\r\n    padding: 160px 35px 0;\r\n    margin: 0 auto;\r\n    overflow: hidden;\r\n\r\n    :deep(.el-form-item) {\r\n      border: 1px solid rgba(255, 255, 255, 0.1);\r\n      background: rgba(0, 0, 0, 0.1);\r\n      border-radius: 5px;\r\n      color: #454545;\r\n    }\r\n\r\n    :deep(.el-input) {\r\n      // 修改element样式\r\n      display: inline-block;\r\n      height: 47px;\r\n      width: 85%;\r\n      div {\r\n        width: 100%;\r\n        background: transparent;\r\n        border: 0;\r\n        box-shadow: 0 0 0 0;\r\n        input {\r\n          border: 0px;\r\n          border-radius: 0px;\r\n          padding: 12px 5px 12px 15px;\r\n          color: $light_gray;\r\n          height: 47px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .svg-container {\r\n    padding: 6px 5px 6px 15px;\r\n    color: $dark_gray;\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n  }\r\n\r\n  .title-container {\r\n    position: relative;\r\n    .title {\r\n      font-size: 26px;\r\n      color: $light_gray;\r\n      margin: 0px auto 40px auto;\r\n      text-align: center;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .show-pwd {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 7px;\r\n    font-size: 16px;\r\n    color: $dark_gray;\r\n    cursor: pointer;\r\n    user-select: none;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5e942410&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\cms\\\\vue-first\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e942410\"]])\n\nexport default __exports__"],"names":["validatePassword","rule","value","cb","regpass","test","Error","userStore","useUserStore","isShowEye","ref","loginForm","username","password","loginFormRef","rules","required","message","trigger","validator","eyeIcon","computed","typeInput","changeShowEye","handleSubmit","validate","vaild","loginFn","ElMessage","type","grouping","__exports__"],"sourceRoot":""}